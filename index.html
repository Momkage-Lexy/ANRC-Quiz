<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Career Quiz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        .hidden{
            display: none !important;
        }

        /* FLEX */

        .flex{
            display: flex !important;
        }

        .flex-wrap{
            flex-wrap: wrap !important;
        }

        .flex-basis-5{
            flex-basis: 5% !important;
        }

        .flex-basis-10{
            flex-basis: 10% !important;
        }

        .flex-basis-20{
            flex-basis: 20% !important;
        }

        .flex-basis-25{
            flex-basis: 25% !important;
        }

        .flex-basis-35{
            flex-basis: 35% !important;
        }

        .flex-basis-45
        {
            flex-basis: 45% !important;
        }  

        .flex-basis-50{
            flex-basis: 50% !important;
        }   
        
        .flex-basis-55
        {
            flex-basis: 55% !important;
        }

        .flex-basis-65{
            flex-basis: 65% !important;
        }

        .flex-basis-100{
            flex-basis: 100% !important
        }

        .flex-column{
            flex-direction: column !important;
        }

        .align-center{
            align-items: center !important;
        }

        .justify-center{
            justify-content: center !important;
        }

        .space-around{
            justify-content: space-around !important;
        }

        .align-content-center{
            align-content: center !important;
        }

        /* COLORS */

        .bg-till{
            background-color: #b7a99a !important;
        }

        .bg-highdesert{
            background-color: #7a6855 !important;
        }   

        .bg-offwhite{
            background-color: #e9e5e4 !important;
        }

        /* HEIGHTS */

        .height-vh100{
            height: 100vh !important;
        }

        .height-100{
            height: 100% !important;
        }

        .max-height-40{
            max-height: 40% !important;
        }

        .max-height-60{
            max-height: 60% !important;
        }

        .height-75{
            height: 75% !important;
        }

        .max-height-75{
            max-height: 75% !important;
        }   

        .height-300{
            height:300px !important;
        }

        .height-400{
            height:400px !important;
        }   

        /* WIDTHS */

        .width-25{
            width:25% !important;
        }

        .width-50{
            width: 50% !important;
        }

        .width-75{
            width: 75% !important;
        }

        .width-100{
            width: 100% !important;
        }

        .max-width-50{
            max-width: 50% !important;
        }

        .max-width-75{
            max-width: 75% !important;
        }

        /* TEXT */
        @font-face {
            font-family: 'Stratum2Web';
            src: url('Stratum2-Medium.otf') format('opentype');
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: 'Kievit';
            src: url('KievitOffc-Medi.ttf') format('opentype');
            font-weight: normal;
            font-style: normal;
        }

        .Stratum2Web{
            font-family: 'Stratum2Web', sans-serif !important;
        }

        .Kievit{
            font-family: 'Kievit', sans-serif !important;
        }

        .text-center{
            text-align: center !important;
        }

        .fs-3{
            font-size: 3rem !important;
        }

        /* IMAGE */
        /* MARGIN */

        .m-0{
            margin: 0px !important;
        }

        .mt-10{
            margin-top: 10px !important;
        }

        /* PADDING */
        .p-0{
            padding: 0px !important;
        }

        .p-10{
            padding: 10px !important;
        }

        .p-20{
            padding: 20px !important;
        }

        /* GAPS */
        .g-10{
            gap: 10px !important;
        }

        .g-20{
            gap: 20px !important;
        }

        /* BORDER RADIUS */
        .br-50{
            border-radius: 50px !important;
        }


    

    </style>
</head>
<body class="m-0 bg-offwhite">


    <!-- Main container -->
    <div class="form-container">
        <div class="form-inner">
            <div id="transitionWrapper" class="transition-wrapper row">
                <form id="questionForm" class="flex height-vh100 align-center">
                    <div class="flex flex-basis-35 align-center justify-center bg-till height-100">
                        <div class="question-label Stratum2Web fs-3 text-center space-around p-20" id="questionLabel"></div>
                    </div>
                    <div class="flex flex-wrap flex-basis-65 justify-center max-height-40">
                        <div id="radioContainer" class="radio-group flex flex-wrap flex-basis-100 flex-column g-20 max-width-75 max-height-40 height-300 Kievit"></div>
                        <div class="flex flex-basis-100 justify-center mt-10"><button type="button" id="backButton" class="button width-25 hidden Kievit">Back</button></div>
                    </div>
                </form>
            </div>
        </div>
    </div>


    <!-- Career Results Container -->
    <div class="career-container hidden">
        <div class="career-inner">
            <h1>Agricultural & Natural Resources Communication</h1>
            <h2><span id="path-title"></span> Careers You’d Thrive In:</h2>
            <ul id="careers-list"></ul>
            <div class="courses">
                <h3>Some Agricultural & Natural Resources Communication courses that would help you develop <span id="path"></span> skills at Oregon State are:</h3>
                <ul id="course-list"></ul>
            </div>
        </div>
    </div>


    <!-- Wrap Up Text Container -->
    <div class="wrapup-container hidden">
        <p>Agriculture and natural resources shape our communities, our economy, and our future. Strong communication connects people to the land, the science, and the stories behind it.</p>

        <p>Agriculture and natural resources shape our communities, our environment, and our future. Communication connects people to the land, the science, and the stories behind it. Strong communication is how agriculture and natural resources grow trust, inspire action, and shape the future.</p>

        <p>Wherever you see yourself making a difference, there’s a place for your voice here. If you’re ready to communicate, educate, advocate, or build something of your own, your place starts here with the Agricultural & Natural Resources Communication program at Oregon State University.</p>

        <form id="restart">
            <button class="button" id="restartButton" type="button">Restart Quiz</button>
        </form>
    </div>
    <script>
        const historyStack = [];
        let resultsShown = false;
        let currentPath = null;
        let selectedPath = null;

        let currentIndex = 0;


        // Questions
        const Question1 = [
            { 
                label : "When you’re working on a project, what part excites you most?", 
                options : [
                    { label : "Making it look visually appealing", key : "visual"},
                    { label : "Writing or crafting the message", key : "writing"},
                    { label : "Understanding people and audiences", key : "strategy"},
                    { label : "Planning, organizing, or leading the process", key : "management"},
                    { label : "Speaking up, persuading, or advocating", key : "advocacy"},
                    { label : "Teaching or helping others understand", key : "education"},
                    { label : "Building my own brand, business, or idea", key : "entrepreneurial"}
                ] 
            }
        ];

        const VisualPath = [
            {
                label : "How do you like to create?",
                options : [
                    { label : "Graphic design, branding, layouts", key: "graphic_design" },
                    { label : "Social media visuals or short-form video", key: "social_video" },
                    { label : "Photography or videography", key: "photo_video" }
                ]
            },
            {
                label : "Where do you want your work to show up?",
                options : [
                    { label : "Brands, logos, and campaigns", key: "brand_campaigns" },
                    { label : "Instagram, TikTok, or websites", key: "digital_platforms" },
                    { label : "Real people, places, and stories", key: "real_world_stories" }
                ]
            }
        ];

        const WritingPath = [
            {
                label : "What kind of writing energizes you?",
                options : [
                    { label : "Professional or media writing", key: "professional_writing" },
                    { label : "Creative or narrative writing", key: "creative_writing" },
                    { label : "Clear explanations of complex topics", key: "explanatory_writing" }
                ]
            },
            {
                label : "Who do you most want to reach?",
                options : [
                    { label : "The public or media", key: "public_audience" },
                    { label : "Readers looking for stories", key: "story_readers" },
                    { label : "Communities needing clear information", key: "information_seekers" }
                ]
            }
        ];

        const StrategyPath = [
            {
                label : "What part of communication interests you most?",
                options : [
                    { label : "Understanding perspectives", key: "audience_perspectives" },
                    { label : "Researching opinions or trends", key: "research_analysis" },
                    { label : "Shaping messages for audiences", key: "message_strategy" }
                ]
            },
            {
                label : "How do you like to solve problems?",
                options: [
                    { label : "Big-picture thinking", key: "big_picture" },
                    { label : "Data and insights", key: "data_insights" },
                    { label : "Messaging and positioning", key: "positioning_strategy" }
                ]
            }
        ];

        const ManagementPath = [
            {
                label : "What role do you naturally take in groups?",
                options : [
                    { label : "Organizer", key: "organizer_role" },
                    { label : "Coordinator", key: "coordinator_role" },
                    { label : "Leader", key: "leader_role" }
                ]
            },
            {
                label : "What kind of responsibility do you enjoy?",
                options : [
                    { label : "Events and programs", key: "events_programs" },
                    { label : "Details and logistics", key: "logistics_details" },
                    { label : "People and projects", key: "people_projects" }
                ]
            }
        ];

        const AdvocacyPath = [
            {
                label : "How do you like to use your voice?",
                options : [
                    { label : "Speaking or presenting", key: "public_speaking" },
                    { label : "Online advocacy", key: "digital_advocacy" },
                    { label : "Leading in person through challenging situations", key: "in_person_leadership" }
                ]
            },
            {
                label : "What motivates you most?",
                options : [
                    { label : "Making sure others are heard", key: "amplifying_voices" },
                    { label : "Creating change", key: "driving_change" },
                    { label : "Protecting people, land, or trust", key: "protection_stewardship" }
                ]
            }
        ];

        const EducationPath = [
            {
                label : "How do you like to teach others?",
                options : [
                    { label : "Explaining concepts clearly", key: "clear_explanations" },
                    { label : "Hands-on demonstrations", key: "hands_on_learning" },
                    { label : "Storytelling and examples", key: "story_based_learning" }
                ]
            },
            {
                label : "Where do you want learning to happen?",
                options : [
                    { label : "Community or outdoor spaces", key: "community_learning" },
                    { label : "Through signs, media, or exhibits", key: "interpretive_media" },
                    { label : "Small groups or one-on-one", key: "small_group_learning" }
                ]
            }
        ];

        const EntrepreneurialPath = [
            {
                label : "What excites you about building something?",
                options : [
                    { label : "Marketing products I believe in", key: "product_marketing" },
                    { label : "Running my own projects", key: "independent_projects" },
                    { label : "Helping others grow", key: "supporting_growth" }
                ]
            },
            {
                label : "How do you want to work?",
                options : [
                    { label : "On my own brand or operation", key: "own_brand" },
                    { label : "As a consultant or freelancer", key: "consulting_freelance" },
                    { label : "With small businesses or cooperatives", key: "small_business_support" }
                ]
            }
        ];


        // Path Keys
        const paths = {
            visual : VisualPath,
            writing : WritingPath,
            strategy : StrategyPath,
            management : ManagementPath,
            advocacy : AdvocacyPath,
            education : EducationPath,
            entrepreneurial: EntrepreneurialPath
        };


        // Career Path Results
        const visualCommuncation = [
            {
                careerGroup : "Visual Communication",
                careerList : [
                    "Graphic Designer",
                    "Social Media Manager",
                    "Digital Content Creator",
                    "Photographer or Videographer",
                    "Marketing or Branding Specialist"

                ],
                courseList : [
                    "AGCM 210: Exploring Social Science in Oregon Agriculture & Natural Resources",
                    "AGCM 250: Advancement & Consumption of Agricultural & Natural Resources Media",
                    "Communication, Media, and Society Core education category",
                    "AGCM 300: Digital Media Production in ANRC",
                    "AGCM 445: Social media advocacy in Ag Sciences & Natural Resources",
                    "AGCM 466: Packing it All in: Magazine Design for Agriculture & Natural Resources Communication"
                ]
            }
        ];

        const writing = [
            {
                careerGroup : "Writing",
                careerList : [
                    "Commodity Communications Specialist",
                    "Agricultural Journalist",
                    "Public Relations Coordinator",
                    "Freelance Writer",
                    "Magazine Editor"
                ],
                courseList : [
                    "AGCM 210: Exploring Social Science in Oregon Agriculture & Natural Resources",
                    "AGCM 364: Professional Development for Agriculture and Natural Resources Communication",
                    "AGCM 392: Agricultural & Natural Resources Communication Writing",
                    "AGCM 466: Packing it All in: Magazine Design for Agriculture & Natural Resources Communication"
                ]
            }
        ];
        
        const strategy = [
            {
                careerGroup : "Strategy",
                careerList : [
                    "Communications Strategist",
                    "Audience or Market Research Analyst",
                    "Public Affairs Communicator",
                    "Campaign Planner",
                    "Marketing Coordinator"
                ],
                courseList : [
                    "AGCM 351: Communicating Global Agriculture & Natural Resources Issues",
                    "AGCM 390: Policy & Advocacy Communications in Agriculture & Natural Resources",
                    "AGCM 444: Communication Strategies for Agriculture and Natural Resources",
                    "AGCM 364: Professional Development for Agriculture and Natural Resources Communication"
                ]
            }
        ];

        const management = [
            {
                careerGroup : "Management",
                careerList : [
                    "Event or Outreach Coordinator",
                    "Project Manager",
                    "Communications Lead",
                    "Extension Program Director",
                    "Nonprofit Administrator"
                ],
                courseList : [
                    "AGCM 250: Advancement & Consumption of Agricultural & Natural Resources Media",
                    "AGCM 364: Professional Development for agriculture and natural resources communication",
                    "AGCM 455: Risk & Crisis Communications in Ag Sci & Natural Resources"
                ]
            }
        ];

        const advocacy = [
            {
                careerGroup : "Advocacy",
                careerList : [
                    "Advocacy or Outreach Specialist",
                    "Policy or Government Communicator",
                    "Industry Spokesperson",
                    "AG/NR Lobbyist",
                    "Crisis & Risk Communication Professional",
                    "Social Media Advocate"
                ],
                courseList : [
                    "AGCM 210: Exploring Social Science in Oregon Agriculture & Natural Resources",
                    "AGCM 250: Advancement & Consumption of Agricultural & Natural Resources Media",
                    "AGCM 364: Professional Development for agriculture and natural resources communication",
                    "AGCM 390: Policy & Advocacy Communications in Agriculture & Natural Resources",
                    "AGCM 444: Communication Strategies for Agriculture and Natural Resources",
                    "AGCM 445: Social media advocacy in Agri Sciences & Natural Resources"
                ]
            }
        ]; 
        
        const education = [
            {
                careerGroup : "Education",
                careerList : [
                    "Natural Resources Public Information Officer",
                    "Extension Educator",
                    "Outreach & Education Coordinator",
                    "Environmental or Conservation Educator",
                    "Interpretive Specialist (parks, forests, wildlife)",
                    "Museum or Visitor Center Communicator",
                    "Agricultural Literacy Specialist",
                    "AG/NR Curriculum Developer",
                    "AG/NR Teacher"
                ],
                courseList : [
                    "AGCM 210: Exploring Social Science in Oregon Agriculture & Natural Resources",
                    "AGCM 250: Advancement & Consumption of Agricultural & Natural Resources Media",
                    "AGCM 351: Communicating Global Agriculture & Natural Resources Issues",
                    "AGCM 364: Professional Development for agriculture and natural resources communication",
                    "AGCM 444: Communication Strategies for Agriculture and Natural Resources"
                ]
            }
        ]; 

        const entrepreneurial = [
            {
                careerGroup : "Entrepreneurial",
                careerList : [
                    "Agricultural Communications Consultant",
                    "Producer-Marketer (Direct-to-Consumer Beef, Crops, etc.)",
                    "Ag Business Brand Builder",
                    "Freelance Content Creator (Ag & NR)",
                    "Cooperative or Small Business Communications Lead"
                ],
                courseList : [
                    "AGCM 364: Professional Development for agriculture and natural resources communication",
                    "AGCM 444: Communication Strategies for Agriculture and Natural Resources",
                    "AGCM 445: Social media advocacy in Agri Sciences & Natural Resources",
                    "AGCM 466: Packing it All in: Magazine Design for Agriculture & Natural Resources Communication"
                ]
            }
        ]; 
        

        // Result Keys
        const careerResults = {
            visual: visualCommuncation,
            writing: writing,
            strategy: strategy,
            management: management,
            advocacy: advocacy,
            education: education,
            entrepreneurial: entrepreneurial
        };


        // Rendering
        function renderQuestion(question) {
            const labelEl = document.getElementById("questionLabel");
            const radioContainer = document.getElementById("radioContainer");

            // Set question label
            labelEl.textContent = question.label;

            // Set answer options
            radioContainer.innerHTML = "";

            question.options.forEach((option, index) => {
                const id = `option-${index}`;
                const inputClassList = `hidden`;
                const labelClassList = `p-20 bg-till text-center br-50 flex-basis-5 align-content-center optionLabel`;

                const label = document.createElement("label");
                label.setAttribute("for", id);
                label.textContent = option.label;
                label.classList = labelClassList;
                
                const input = document.createElement("input");
                input.type = "radio";
                input.name = "answer";
                input.id = id;
                input.value = option.key;
                input.classList = inputClassList;

                input.addEventListener("change", () => handleAnswer(option.key));

                label.prepend(input);
                radioContainer.appendChild(label)

            });
        }

        // Load the first question
        renderQuestion(Question1[0]);

        // Results Render
        function renderCareerResults(pathKey){
            const data = careerResults[pathKey][0];

            document.getElementById("path-title").textContent = data.careerGroup;
            document.getElementById("path").textContent = data.careerGroup;

            document.getElementById("careers-list").innerHTML = 
                data.careerList.map(career => `<li>${career}</li>`).join("");
            
            document.getElementById("course-list").innerHTML = 
                data.courseList.map(course => `<li>${course}</li>`).join("");

            document.querySelector(".form-container").classList.add("hidden");
            document.querySelector(".career-container").classList.remove("hidden");
            document.querySelector(".wrapup-container").classList.remove("hidden");
        }


        // Question Flow
        function handleAnswer(answer){
            // Save current state
            historyStack.push({
                currentPath,
                currentIndex,
                selectedPath
            });

            // Branching

            if(!currentPath) { 
                // Store Path
                selectedPath = answer;
                // Branch to new path
                currentPath = paths[answer];
                // Reset index
                currentIndex = 0;
                
                document.getElementById("questionForm").classList.remove("flex", "height-vh100");
                document.getElementById("radioContainer").classList.remove("flex-column", "height-300");
                document.getElementById("radioContainer").classList.add("justify-center");

                // Display back button
                document.getElementById("backButton").classList.remove("hidden");

                // Render path questions
                renderQuestion(currentPath[currentIndex]);

                const optionLabels = document.getElementsByClassName("optionLabel");
                for (let i = 0; i < optionLabels.length; i++) {
                    optionLabels[i].classList.remove("flex-basis-5");
                    optionLabels[i].classList.add("flex-basis-25");
                }
    
                return;
            }

            // Path flow
            currentIndex++;

            // Render second path question
            if(currentIndex < currentPath.length) {
                renderQuestion(currentPath[currentIndex]);
                
                const optionLabels = document.getElementsByClassName("optionLabel");
                for (let i = 0; i < optionLabels.length; i++) {
                    optionLabels[i].classList.remove("flex-basis-5");
                    optionLabels[i].classList.add("flex-basis-25");
                }
            } else {
                // End of path
                resultsShown = true;

                document.getElementById("questionLabel").classList.add("hidden");
                document.getElementById("radioContainer").classList.add("hidden", "flex-column", "height-300");
                document.getElementById("backButton").classList.add("hidden");
                document.getElementById("questionForm").classList.add("flex", "height-vh100");
                document.getElementById("radioContainer").classList.remove("justify-center");

                renderCareerResults(selectedPath);
            }
        }

    
        // Reset
        document.getElementById("restartButton").addEventListener("click", () => {
            currentPath = null;
            currentIndex = 0;
            selectedPath = null;
            historyStack.length = 0;
            resultsShown = false;

            // Hide results
            document.querySelector(".career-container").classList.add("hidden");
            document.querySelector(".wrapup-container").classList.add("hidden");
            document.getElementById("backButton").classList.add("hidden");

            renderQuestion(Question1[0]);
            // Display Quiz from the beginning
            document.getElementById("questionLabel").classList.remove("hidden");
            document.getElementById("radioContainer").classList.remove("hidden");
            document.querySelector(".form-container").classList.remove("hidden");
        })


        // Back
        document.getElementById("backButton").addEventListener("click", () => {
            // Disable at the first question or during results
            if (historyStack.length === 0 || resultsShown) return;

            // Previous question in the stack
            const previous = historyStack.pop();

            currentPath = previous.currentPath;
            currentIndex = previous.currentIndex;
            selectedPath = previous.selectedPath;

            // Return to first question if on the first path question
            if (!currentPath) {
                document.getElementById("questionForm").classList.add("flex", "height-vh100");
                document.getElementById("radioContainer").classList.add("flex-column", "height-300");
                document.getElementById("radioContainer").classList.remove("justify-center");
                renderQuestion(Question1[0]);
                document.getElementById("backButton").classList.add("hidden");
                
                const optionLabels = document.getElementsByClassName("optionLabel");
                    for (let i = 0; i < optionLabels.length; i++) {
                        optionLabels[i].classList.add("flex-basis-5");
                        optionLabels[i].classList.remove("flex-basis-25");
                    }
                    return;
                }

            renderQuestion(currentPath[currentIndex]);

            const optionLabels = document.getElementsByClassName("optionLabel");
            for (let i = 0; i < optionLabels.length; i++) {
                optionLabels[i].classList.remove("flex-basis-5");
                optionLabels[i].classList.add("flex-basis-25");
            }
        })
    </script>
</body>